// [AIV]  InCache Build version: 2.0.0  
 var incache=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,r){"use strict";e.exports=r(1)},function(e,t,r){"use strict";(function(t){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(3),a=r(5),s=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(this,e),this.GLOBAL_KEY="___InCache___storage___global___key___",this.root=i.isServer()?t:window,this.DEFAULT_OPTS={silent:!1,life:0},this.DEFAULT_CONFIG={storeName:"",save:!0,filePath:".InCache"},this.setConfig(r)}return o(e,[{key:"_onRemoved",value:function(){}},{key:"_onCreated",value:function(){}},{key:"_onUpdated",value:function(){}},{key:"_write",value:function(){if(i.isServer()){var e=this._memory,t=e.config,r=e.data;if(t.save){var n=JSON.stringify(r);a.writeFileSync(t.filePath,n)}}}},{key:"_read",value:function(){if(i.isServer()){var e=this._memory.config;if(e.save&&a.existsSync(e.filePath)){var t=a.readFileSync(e.filePath);try{this.storage=this._memory.data=JSON.parse(t)}catch(e){this.storage=this._memory.data={}}}}}},{key:"setConfig",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.storeName&&(this.GLOBAL_KEY+=e.storeName),this.root[this.GLOBAL_KEY]||(this.root[this.GLOBAL_KEY]={data:{},setConfig:this.DEFAULT_CONFIG}),this.root[this.GLOBAL_KEY].config=i.defaults(e,this.DEFAULT_CONFIG),this._memory=this.root[this.GLOBAL_KEY],this.storage=this._memory.data,this._read()}},{key:"getConfig",value:function(){return this._memory.config}},{key:"set",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={isNew:!0,createdOn:null,updatedOn:null,expiresOn:null,value:t};return r=i.defaults(r,this.DEFAULT_OPTS),r.life&&i.is(r.life,"number")&&(n.expiresOn=i.addSecondsToNow(r.life)),this.has(e)?(n.isNew=!1,n.updatedOn=new Date,r.silent||this._onUpdated.call(this,e,n)):(n.createdOn=new Date,r.silent||this._onCreated.call(this,e,n)),this.storage[e]=n,r.fromBulk||this._write(),n}},{key:"bulkSet",value:function(e){if(!i.is(e,"array"))throw new Error("records must be an array of object, e.g. {key: foo, value: bar}");for(var t=0;t<e.length;t++){if(i.is(e[t].key,"undefined")||i.is(e[t].value,"undefined"))throw new Error("key and value properties are required");this.set(e[t].key,e[t].value,{silent:!0,fromBulk:!0})}this._write()}},{key:"get",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.has(e)?this.expired(e)?(this.remove(e,!0),null):t?this.storage[e].value:this.storage[e]:null}},{key:"remove",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};delete this.storage[e],t||this._onRemoved.call(this,e),r.fromBulk||this._write()}},{key:"addTo",value:function(e,t){if(!this.has(e))return null;var r=this.get(e);if(!i.is(r,"array"))throw new Error("object must be an array");return r.push(t),this.set(e,r)}},{key:"prependTo",value:function(e,t){if(!this.has(e))return null;var r=this.get(e);if(!i.is(r,"array"))throw new Error("object must be an array");return r.unshift(t),this.set(e,r)}},{key:"updateIn",value:function(e,t,r){if(!this.has(e))return null;if(i.is(t,"undefined"))throw new Error("value cannot be undefined");if(i.is(r,"undefined"))throw new Error("where cannot be undefined");var n=this.get(e);if(!i.is(n,"array"))throw new Error("value must be an array");var o=!1;for(var a in n)if(n.hasOwnProperty(a)){var s=[];for(var u in r)r.hasOwnProperty(u)&&(i.is(r,"object")?s.push(void 0!==n[a][u]&&n[a][u]===r[u]):s.push(n[a]===r));s.length&&-1===s.indexOf(!1)&&(o=!0,n[a]=t)}o&&this.set(e,n)}},{key:"removeFrom",value:function(e,t){if(!this.has(e))return null;if(i.is(t,"undefined"))throw new Error("where cannot be undefined");var r=this.get(e);if(!i.is(r,"array"))throw new Error("value must be an array");var n=r.length;for(var o in r)if(r.hasOwnProperty(o)){var a=[];for(var s in t)t.hasOwnProperty(s)&&(i.is(t,"object")?a.push(void 0!==r[o][s]&&r[o][s]===t[s]):a.push(r[o]===t));a.length&&-1===a.indexOf(!1)&&r.splice(o,1)}n!==r.length&&this.set(e,r)}},{key:"bulkRemove",value:function(e){if(!i.is(e,"array"))throw new Error("keys must be an array of keys");for(var t=0;t<e.length;t++)this.remove(e[t],!0,{fromBulk:!0});this._write()}},{key:"all",value:function(){var e=[];for(var t in this.storage)this.storage.hasOwnProperty(t)&&(this.expired(t)?this.remove(t,!0):e.push({key:t,value:this.storage[t].value}));return e}},{key:"expired",value:function(e){if(this.storage[e]&&this.storage[e].expiresOn){return new Date>new Date(this.storage[e].expiresOn)}return!1}},{key:"clear",value:function(){this.storage=this._memory.data={},this._write()}},{key:"has",value:function(e){return this.storage.hasOwnProperty(e)}},{key:"onRemoved",value:function(e){this._onRemoved=e}},{key:"onCreated",value:function(e){this._onCreated=e}},{key:"onUpdated",value:function(e){this._onUpdated=e}}]),e}();e.exports=s}).call(t,r(2))},function(e,t,r){"use strict";var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"===("undefined"==typeof window?"undefined":o(window))&&(n=window)}e.exports=n},function(e,t,r){"use strict";(function(t){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={};n.is=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object "+t+"]".toLowerCase()},n.defaults=function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e.hasOwnProperty(o)?"object"===r(e[o])&&n.defaults(e[o],t[o]):e[o]=t[o]);return e},n.addSecondsToNow=function(e){var t=new Date;return new Date(t.setSeconds(t.getSeconds()+e))},n.isServer=function(){return"object"===(void 0===t?"undefined":r(t))&&void 0!==t.pid},e.exports=n}).call(t,r(4))},function(e,t,r){"use strict";function n(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(e){if(h===clearTimeout)return clearTimeout(e);if((h===o||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function s(){p&&y&&(p=!1,y.length?v=y.concat(v):m=-1,v.length&&u())}function u(){if(!p){var e=i(s);p=!0;for(var t=v.length;t;){for(y=v,v=[];++m<t;)y&&y[m].run();m=-1,t=v.length}y=null,p=!1,a(e)}}function f(e,t){this.fun=e,this.array=t}function l(){}var c,h,d=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{h="function"==typeof clearTimeout?clearTimeout:o}catch(e){h=o}}();var y,v=[],p=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];v.push(new f(e,t)),1!==v.length||p||i(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,r){"use strict"}]); 